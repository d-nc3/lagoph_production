$(function(){const approveBtn=document.querySelectorAll('.btn-receipt');const updateForm=document.getElementById('approval-form');$('.select2').select2({placeholder:"Select an option",allowClear:!0});updateForm.addEventListener('submit',function(event){event.preventDefault();updateFormValidation.validate().then(function(status){if(status==='Valid'){showBlockUI();$.ajax({url:`${BASE_URL}Transaction/save_payment_transaction`,type:"POST",data:new FormData(updateForm),contentType:!1,cache:!1,processData:!1,dataType:'json',success:function(response){hideBlockUI();if(response.status){Swal.fire({text:response.message,icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn fw-bold btn-primary",}}).then(()=>{window.location.href=BASE_URL+'Cashiering/official_transaction_receipt'})}else{if(Object.keys(response.validation_errors).length>0){let html='<div class="text-start">Please check the following fields:</br>';html+='<ol>';$.each(response.validation_errors,function(key,value){html+='<li><b>'+value.label+'</b> : '+value.message+'</li>'});html+='</ol></div>';Swal.fire({title:response.message,icon:'error',html:html,showCloseButton:!0,showCancelButton:!0,focusConfirm:!0,showCancelButton:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn fw-bold btn-primary",},buttonsStyling:!1})}else{Swal.fire({text:response.message,icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})}}},error:function(error){hideBlockUI();Swal.fire({text:"Sorry, looks like there are some errors detected, please try again.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})}})}})})})